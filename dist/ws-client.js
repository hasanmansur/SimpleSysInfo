var WebSocket=require("ws"),ws,interval,connect=function(){console.log("ws client trying to connect to ws server ... "),ws=new WebSocket("ws://localhost:8080"),ws.on("error",function(o){console.log("error: ws client connecting ws server"),connect()}),ws.on("open",function(){console.log("ws client - ws server connection open")}),ws.on("close",function(o,n){console.log("ws client - ws server connection closed with code:"+o),connect()}),ws.on("message",function(o,n){console.log("-----------------------------------------------"),console.log(o),console.log("-----------------------------------------------")})};connect();